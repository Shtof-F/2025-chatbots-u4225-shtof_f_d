# Telegram-бот помощник для команды

Telegram-бот на Python для помощи команде с функциями хранения информации, контактов, событий и дайджестов.

## Функционал

- **Ответы на вопросы** - Бот может отвечать на вопросы о компании/проекте/команде
- **Хранение контактов** - Сохранение и поиск контактов коллег
- **Напоминания о событиях** - Добавление и просмотр предстоящих событий
- **Ежедневные дайджесты** - Хранение и просмотр дайджестов

## Требования

- Python 3.8 или выше
- Telegram Bot Token (получить у [@BotFather](https://t.me/BotFather))

## Установка

1. Клонируйте репозиторий или скачайте файлы проекта

2. Установите зависимости:
```bash
pip install -r requirements.txt
```

3. Создайте файл `.env` на основе `.env.example`:
```bash
cp .env.example .env
```

4. Откройте `.env` и добавьте ваш Telegram Bot Token:
```
TELEGRAM_BOT_TOKEN=ваш_токен_бота
```

## Получение токена бота

1. Откройте Telegram и найдите [@BotFather](https://t.me/BotFather)
2. Отправьте команду `/newbot`
3. Следуйте инструкциям для создания бота
4. Скопируйте полученный токен и вставьте в файл `.env`

## Запуск

```bash
python bot.py
```

После запуска бот будет готов к работе. Найдите вашего бота в Telegram и отправьте команду `/start`.

## Команды бота

### Основные команды
- `/start` - Начать работу с ботом
- `/help` - Показать справку по командам

### Информация о компании/проекте
- `/question` - Задать вопрос о компании/проекте/команде
- `/answer` - Добавить ответ на вопрос (формат: "Вопрос: ... Ответ: ...")

### Контакты
- `/contacts` - Показать все контакты коллег
- `/add_contact` - Добавить новый контакт (бот попросит имя и информацию)
- `/find_contact <имя>` - Найти контакт по имени

### События
- `/events` - Показать предстоящие события (на 7 дней вперед)
- `/add_event` - Добавить новое событие/напоминание (бот попросит название, дату и описание)

### Дайджесты
- `/digest` - Показать последние 5 дайджестов
- `/add_digest` - Добавить новый дайджест

## Структура проекта

```
.
├── bot.py              # Основной файл с кодом бота
├── requirements.txt    # Зависимости проекта
├── README.md          # Документация
├── .env.example       # Пример файла конфигурации
├── .env               # Файл с токеном (создается вручную)
└── bot_data.db        # База данных SQLite (создается автоматически)
```

## База данных

Бот использует SQLite для хранения данных. База данных создается автоматически при первом запуске и содержит следующие таблицы:

- `company_info` - Информация о компании/проекте (вопросы и ответы)
- `contacts` - Контакты коллег
- `events` - События и напоминания
- `digests` - Дайджесты

## Обработка ошибок

Бот включает обработку ошибок на всех уровнях:
- Ошибки подключения к базе данных
- Ошибки при обработке команд
- Ошибки валидации данных
- Логирование всех ошибок для отладки

## Логирование

Все события и ошибки логируются в консоль с указанием времени, уровня и сообщения.

## Примечания

- Для отправки ежедневных дайджестов всем пользователям необходимо дополнительно реализовать хранение списка chat_id пользователей
- Бот работает в режиме polling (опрос сервера Telegram)
- Все данные хранятся локально в файле SQLite

## Лицензия

Этот проект создан в образовательных целях.

